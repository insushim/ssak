/**
 * ì‹¹DB ë¶€ì¡±í•œ í•™ë…„ë³„ ë°ì´í„° ìƒì„± ìŠ¤í¬ë¦½íŠ¸
 *
 * ë¶€ì¡±í•œ ë°ì´í„°:
 * 1. ê³ ë“±í•™êµ 1-3í•™ë…„ í‰ê°€ ë£¨ë¸Œë¦­
 * 2. ì´ˆë“± 3-4í•™ë…„, 5-6í•™ë…„ ìš°ìˆ˜ì‘ ì˜ˆì‹œ
 * 3. ê³ ë“±í•™êµ 2-3í•™ë…„ 'ìƒ' ìˆ˜ì¤€ ì˜ˆì‹œ
 */

const fs = require('fs');
const path = require('path');

const SSAK_DB_PATH = 'c:/iswì‹¹DB/ssak-writing-vault';

// ===== ê³ ë“±í•™êµ í‰ê°€ ë£¨ë¸Œë¦­ ë°ì´í„° =====
const highSchoolRubrics = {
  'ê³ ë“±í•™êµ': {
    grades: ['1í•™ë…„', '2í•™ë…„', '3í•™ë…„'],
    genres: ['ë…¼ì„¤ë¬¸', 'ìˆ˜í•„', 'ë¹„í‰ë¬¸', 'ë³´ê³ ì„œ', 'ë…ì„œê°ìƒë¬¸'],
    domains: ['ì¢…í•©', 'ë‚´ìš©', 'ì¡°ì§', 'í‘œí˜„', 'í‘œê¸°'],
    rubricTemplates: {
      'ì¢…í•©': {
        'ë…¼ì„¤ë¬¸': `
## í‰ê°€ ê¸°ì¤€: ê³ ë“±í•™êµ ë…¼ì„¤ë¬¸ ì¢…í•© í‰ê°€

### ìƒ (90-100ì )
- ëª…í™•í•œ ë…¼ì œ ì„¤ì •ê³¼ ì¼ê´€ëœ ì£¼ì¥ ì „ê°œ
- ë‹¤ì–‘í•˜ê³  ì‹ ë¢°ì„± ìˆëŠ” ê·¼ê±° ì œì‹œ
- ë…¼ë¦¬ì  êµ¬ì¡°(ì„œë¡ -ë³¸ë¡ -ê²°ë¡ )ì˜ ìœ ê¸°ì  ì—°ê²°
- ì •í™•í•œ ë¬¸ì¥ í‘œí˜„ê³¼ ì ì ˆí•œ ì–´íœ˜ ì‚¬ìš©
- ë§ì¶¤ë²•, ë„ì–´ì“°ê¸°, ë¬¸ì¥ë¶€í˜¸ ì •í™•

### ì¤‘ (70-89ì )
- ë…¼ì œê°€ ìˆìœ¼ë‚˜ ì¼ë¶€ ëª¨í˜¸í•¨
- ê·¼ê±°ê°€ ìˆìœ¼ë‚˜ ë‹¤ì–‘ì„± ë¶€ì¡±
- ë…¼ë¦¬ì  êµ¬ì¡°ëŠ” ìˆìœ¼ë‚˜ ì—°ê²° ë¯¸í¡
- ë¬¸ì¥ í‘œí˜„ì´ ëŒ€ì²´ë¡œ ì ì ˆ
- ì¼ë¶€ í‘œê¸° ì˜¤ë¥˜ ìˆìŒ

### í•˜ (0-69ì )
- ë…¼ì œ ë¶ˆëª…í™• ë˜ëŠ” ì¼ê´€ì„± ë¶€ì¡±
- ê·¼ê±° ë¶€ì¡± ë˜ëŠ” ë¶€ì ì ˆ
- êµ¬ì¡°ì  ì²´ê³„ ë¯¸í¡
- ë¬¸ì¥ í‘œí˜„ ë¶€ì ì ˆ
- í‘œê¸° ì˜¤ë¥˜ ë‹¤ìˆ˜
`,
        'ìˆ˜í•„': `
## í‰ê°€ ê¸°ì¤€: ê³ ë“±í•™êµ ìˆ˜í•„ ì¢…í•© í‰ê°€

### ìƒ (90-100ì )
- ê°œì¸ì  ê²½í—˜ê³¼ ë³´í¸ì  ì˜ë¯¸ì˜ ì¡°í™”
- ê¹Šì´ ìˆëŠ” ì„±ì°°ê³¼ í†µì°°
- ìì—°ìŠ¤ëŸ¬ìš´ ê¸€ì˜ íë¦„ê³¼ êµ¬ì„±
- ì„¸ë ¨ëœ ë¬¸ì²´ì™€ ì ì ˆí•œ ë¹„ìœ /ìƒì§•
- ì •í™•í•œ í‘œê¸°ì™€ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥

### ì¤‘ (70-89ì )
- ê²½í—˜ ì„œìˆ ì€ ìˆìœ¼ë‚˜ ì˜ë¯¸ ë¶€ì—¬ ë¶€ì¡±
- ì„±ì°°ì´ í‘œë©´ì 
- ê¸€ì˜ íë¦„ì´ ëŒ€ì²´ë¡œ ìì—°ìŠ¤ëŸ¬ì›€
- ë¬¸ì²´ê°€ ì ì ˆ
- ì¼ë¶€ í‘œê¸° ì˜¤ë¥˜

### í•˜ (0-69ì )
- ë‹¨ìˆœ ê²½í—˜ ë‚˜ì—´
- ì„±ì°° ë¶€ì¬
- ê¸€ì˜ íë¦„ ë¶€ìì—°ìŠ¤ëŸ¬ì›€
- ë¬¸ì²´ ë¯¸ìˆ™
- í‘œê¸° ì˜¤ë¥˜ ë‹¤ìˆ˜
`,
        'ë¹„í‰ë¬¸': `
## í‰ê°€ ê¸°ì¤€: ê³ ë“±í•™êµ ë¹„í‰ë¬¸ ì¢…í•© í‰ê°€

### ìƒ (90-100ì )
- ëŒ€ìƒì— ëŒ€í•œ ê¹Šì´ ìˆëŠ” ë¶„ì„
- ëª…í™•í•œ ë¹„í‰ ê´€ì ê³¼ ê¸°ì¤€ ì œì‹œ
- êµ¬ì²´ì  ê·¼ê±°ë¥¼ í†µí•œ ë…¼ë¦¬ì  ì „ê°œ
- ì „ë¬¸ì ì´ë©´ì„œë„ ëª…í™•í•œ í‘œí˜„
- ì •í™•í•œ í‘œê¸°

### ì¤‘ (70-89ì )
- ë¶„ì„ì´ ìˆìœ¼ë‚˜ ê¹Šì´ ë¶€ì¡±
- ë¹„í‰ ê¸°ì¤€ì´ ìˆìœ¼ë‚˜ ì¼ê´€ì„± ë¯¸í¡
- ë…¼ë¦¬ì  ì „ê°œê°€ ëŒ€ì²´ë¡œ ì ì ˆ
- í‘œí˜„ì´ ëŒ€ì²´ë¡œ ëª…í™•
- ì¼ë¶€ í‘œê¸° ì˜¤ë¥˜

### í•˜ (0-69ì )
- ë‹¨ìˆœ ê°ìƒ ìˆ˜ì¤€
- ë¹„í‰ ê¸°ì¤€ ë¶ˆëª…í™•
- ë…¼ë¦¬ì„± ë¶€ì¡±
- í‘œí˜„ ë¯¸ìˆ™
- í‘œê¸° ì˜¤ë¥˜ ë‹¤ìˆ˜
`
      }
    }
  }
};

// ===== ì´ˆë“± ìš°ìˆ˜ì‘ ì˜ˆì‹œ í…œí”Œë¦¿ =====
const elementaryExamples = {
  'ì´ˆë“±í•™êµ': {
    '3-4í•™ë…„': {
      genres: ['ì¼ê¸°', 'í¸ì§€', 'ìƒí™œë¬¸', 'ì„¤ëª…ë¬¸'],
      examples: {
        'ì¼ê¸°': {
          'ìƒ': `
ì œëª©: ê³¼í•™ ì‹¤í—˜ì˜ ë‚ 

9ì›” 15ì¼ ìˆ˜ìš”ì¼ ë§‘ìŒ

ì˜¤ëŠ˜ ê³¼í•™ ì‹œê°„ì— ì§ì ‘ í™”ì‚° ëª¨í˜• ì‹¤í—˜ì„ í–ˆë‹¤. ì„ ìƒë‹˜ê»˜ì„œ ì¤€ë¹„í•´ ì£¼ì‹  ì¬ë£Œë¡œ í™”ì‚°ì„ ë§Œë“¤ê³ , ë² ì´í‚¹ì†Œë‹¤ì™€ ì‹ì´ˆë¥¼ ë„£ì—ˆë”ë‹ˆ ì •ë§ ìš©ì•”ì²˜ëŸ¼ ê±°í’ˆì´ ë¶€ê¸€ë¶€ê¸€ ì˜¬ë¼ì™”ë‹¤.

ë‚˜ëŠ” ë„ˆë¬´ ì‹ ê¸°í•´ì„œ "ìš°ì™€!" í•˜ê³  ì†Œë¦¬ë¥¼ ì§ˆë €ë‹¤. ì˜†ì— ìˆë˜ ë¯¼ìˆ˜ë„ ëˆˆì´ íœ˜ë‘¥ê·¸ë ˆì¡Œë‹¤. ìš°ë¦¬ ì¡°ê°€ ë§Œë“  í™”ì‚°ì´ ì œì¼ í¬ê²Œ ë¶„ì¶œí•´ì„œ ê¸°ë¶„ì´ ì¢‹ì•˜ë‹¤.

ì‹¤í—˜ì„ í•˜ë©´ì„œ í™”ì‚°ì´ ì™œ í­ë°œí•˜ëŠ”ì§€ ë” ê¶ê¸ˆí•´ì¡Œë‹¤. ì§‘ì— ê°€ì„œ ê³¼í•™ì±…ì„ ì°¾ì•„ë´ì•¼ê² ë‹¤. ë‹¤ìŒì—ëŠ” ì–´ë–¤ ì‹¤í—˜ì„ í• ì§€ ê¸°ëŒ€ëœë‹¤.
`,
          'ì¤‘': `
ì œëª©: ê³¼í•™ ì‹¤í—˜

ì˜¤ëŠ˜ ê³¼í•™ ì‹œê°„ì— ì‹¤í—˜ì„ í–ˆë‹¤. í™”ì‚° ì‹¤í—˜ì´ì—ˆë‹¤.

ë² ì´í‚¹ì†Œë‹¤ë‘ ì‹ì´ˆë¥¼ ë„£ìœ¼ë‹ˆê¹Œ ê±°í’ˆì´ ë‚˜ì™”ë‹¤. ì‹ ê¸°í–ˆë‹¤.

ë‹¤ìŒì—ë„ ì‹¤í—˜í•˜ê³  ì‹¶ë‹¤.
`,
          'í•˜': `
ì œëª©: ì˜¤ëŠ˜

ê³¼í•™ì‹œê°„ ì‹¤í—˜í–ˆë‹¤ í™”ì‚° ê±°í’ˆë‚˜ì˜´
ì‹ ê¸°í•¨
`
        },
        'ìƒí™œë¬¸': {
          'ìƒ': `
ì œëª©: ìš°ë¦¬ ë°˜ í…ƒë°­ ê°€ê¾¸ê¸°

ìš°ë¦¬ ë°˜ì€ í•™êµ ë’¤í¸ì— ì‘ì€ í…ƒë°­ì„ ê°€ê¾¸ê³  ìˆë‹¤. ë´„ì— ìƒì¶”ì™€ ë°©ìš¸í† ë§ˆí†  ì”¨ì•—ì„ ì‹¬ì—ˆëŠ”ë°, ì´ì œ ë¬´ëŸ­ë¬´ëŸ­ ìë¼ì„œ ìˆ˜í™•í•  ë•Œê°€ ëë‹¤.

ë§¤ì¼ ì•„ì¹¨ ë¬¼ì„ ì£¼ë©´ì„œ ì‹ë¬¼ë“¤ì´ ì¡°ê¸ˆì”© ì»¤ê°€ëŠ” ëª¨ìŠµì„ ì§€ì¼œë´¤ë‹¤. ì²˜ìŒì—ëŠ” ì½©ë‚˜ë¬¼ì²˜ëŸ¼ ì‘ì•˜ë˜ ì‹¹ì´ ì´ì œëŠ” ì†ë°”ë‹¥ë§Œ í•œ ìì„ í¼ì¹˜ê³  ìˆë‹¤.

ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ” ê²ƒì€ ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ í’€ì„ ë½‘ê³  ê±°ë¦„ì„ ì£¼ë˜ ì‹œê°„ì´ë‹¤. ì†ì— í™ì´ ë¬»ì–´ë„ ì¹œêµ¬ë“¤ê³¼ ì›ƒìœ¼ë©° ì¼í•˜ë‹ˆê¹Œ í˜ë“¤ì§€ ì•Šì•˜ë‹¤.

ì§ì ‘ ê¸°ë¥¸ ì±„ì†Œë¥¼ ë¨¹ìœ¼ë©´ ë” ë§›ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ëë‹¤. ì•ìœ¼ë¡œë„ í…ƒë°­ì„ ì—´ì‹¬íˆ ê°€ê¾¸ê³  ì‹¶ë‹¤.
`,
          'ì¤‘': `
ì œëª©: í…ƒë°­

ìš°ë¦¬ ë°˜ í…ƒë°­ì—ì„œ ìƒì¶”ë¥¼ í‚¤ìš´ë‹¤. ë§¤ì¼ ë¬¼ì„ ì¤€ë‹¤.

ìƒì¶”ê°€ ë§ì´ ìëë‹¤. ìˆ˜í™•í•´ì„œ ë¨¹ì„ ê±°ë‹¤.

í…ƒë°­ ê°€ê¾¸ê¸°ê°€ ì¬ë°Œë‹¤.
`,
          'í•˜': `
ìƒì¶” í‚¤ì›€
ë¬¼ì¤Œ
ë§›ìˆìŒ
`
        }
      }
    },
    '5-6í•™ë…„': {
      genres: ['ì„¤ëª…ë¬¸', 'ë…¼ì„¤ë¬¸', 'ë…ì„œê°ìƒë¬¸', 'ê¸°í–‰ë¬¸'],
      examples: {
        'ì„¤ëª…ë¬¸': {
          'ìƒ': `
ì œëª©: ì§€êµ¬ ì˜¨ë‚œí™”ì™€ ìš°ë¦¬ì˜ ì—­í• 

ì§€êµ¬ ì˜¨ë‚œí™”ë€ ì§€êµ¬ì˜ í‰ê·  ì˜¨ë„ê°€ ì ì  ë†’ì•„ì§€ëŠ” í˜„ìƒì„ ë§í•œë‹¤. ì´ëŠ” ì£¼ë¡œ ì´ì‚°í™”íƒ„ì†Œì™€ ê°™ì€ ì˜¨ì‹¤ê°€ìŠ¤ê°€ ëŒ€ê¸° ì¤‘ì— ë§ì•„ì§€ë©´ì„œ ë°œìƒí•œë‹¤.

ì§€êµ¬ ì˜¨ë‚œí™”ì˜ ì›ì¸ì€ í¬ê²Œ ë‘ ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ì²«ì§¸, ê³µì¥ê³¼ ìë™ì°¨ì—ì„œ ë‚˜ì˜¤ëŠ” ë°°ê¸°ê°€ìŠ¤ë‹¤. ë‘˜ì§¸, ìˆ²ì´ ì¤„ì–´ë“¤ë©´ì„œ ì´ì‚°í™”íƒ„ì†Œë¥¼ í¡ìˆ˜í•˜ëŠ” ì–‘ì´ ì¤„ì–´ë“  ê²ƒì´ë‹¤.

ì§€êµ¬ ì˜¨ë‚œí™”ê°€ ê³„ì†ë˜ë©´ ë¶ê·¹ì˜ ë¹™í•˜ê°€ ë…¹ê³ , í•´ìˆ˜ë©´ì´ ì˜¬ë¼ê°€ë©°, ì´ìƒ ê¸°í›„ê°€ ìì£¼ ë°œìƒí•œë‹¤. ì‹¤ì œë¡œ ìµœê·¼ ëª‡ ë…„ê°„ í­ì—¼, í™ìˆ˜, ê°€ë­„ ë“±ì˜ ìì—°ì¬í•´ê°€ ëŠ˜ì–´ë‚˜ê³  ìˆë‹¤.

ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” ì¼ì€ ë¬´ì—‡ì¼ê¹Œ? ëŒ€ì¤‘êµí†µ ì´ìš©í•˜ê¸°, ì „ê¸° ì ˆì•½í•˜ê¸°, ì¼íšŒìš©í’ˆ ì¤„ì´ê¸° ë“± ì‘ì€ ì‹¤ì²œë¶€í„° ì‹œì‘í•  ìˆ˜ ìˆë‹¤. ì‘ì€ ë…¸ë ¥ì´ ëª¨ì´ë©´ ì§€êµ¬ë¥¼ ì§€í‚¬ ìˆ˜ ìˆë‹¤.
`,
          'ì¤‘': `
ì œëª©: ì§€êµ¬ ì˜¨ë‚œí™”

ì§€êµ¬ ì˜¨ë‚œí™”ëŠ” ì§€êµ¬ ì˜¨ë„ê°€ ì˜¬ë¼ê°€ëŠ” ê²ƒì´ë‹¤. ê³µì¥ê³¼ ìë™ì°¨ì—ì„œ ë‚˜ì˜¤ëŠ” ê°€ìŠ¤ ë•Œë¬¸ì´ë‹¤.

ì§€êµ¬ ì˜¨ë‚œí™”ê°€ ë˜ë©´ ë¹™í•˜ê°€ ë…¹ê³  í™ìˆ˜ê°€ ë‚œë‹¤.

ìš°ë¦¬ëŠ” ì „ê¸°ë¥¼ ì•„ë¼ê³  ëŒ€ì¤‘êµí†µì„ ì´ìš©í•´ì•¼ í•œë‹¤.
`,
          'í•˜': `
ì§€êµ¬ ì˜¨ë‚œí™”
ì§€êµ¬ê°€ ë”ì›Œì§
ì•ˆì¢‹ìŒ
ì „ê¸° ì•„ê»´ì•¼í•¨
`
        },
        'ë…ì„œê°ìƒë¬¸': {
          'ìƒ': `
ì œëª©: 'ì–´ë¦° ì™•ì'ë¥¼ ì½ê³ 

ìƒí…ì¥í˜ë¦¬ì˜ 'ì–´ë¦° ì™•ì'ëŠ” ì–´ë¦° ì™•ìê°€ ì—¬ëŸ¬ ë³„ì„ ì—¬í–‰í•˜ë©° ë‹¤ì–‘í•œ ì–´ë¥¸ë“¤ì„ ë§Œë‚˜ëŠ” ì´ì•¼ê¸°ë‹¤. ë‚˜ëŠ” ì´ ì±…ì„ ì½ìœ¼ë©´ì„œ "ì¤‘ìš”í•œ ê²ƒì€ ëˆˆì— ë³´ì´ì§€ ì•Šì•„"ë¼ëŠ” ë§ì´ ê°€ì¥ ë§ˆìŒì— ë‚¨ì•˜ë‹¤.

ì–´ë¦° ì™•ìê°€ ì‚¬ë§‰ì—ì„œ ë§Œë‚œ ì—¬ìš°ëŠ” "ê¸¸ë“¤ì¸ë‹¤"ëŠ” ê²ƒì˜ ì˜ë¯¸ë¥¼ ì•Œë ¤ì¤€ë‹¤. ì„œë¡œ ì‹œê°„ì„ ë“¤ì—¬ ê´€ê³„ë¥¼ ë§ºìœ¼ë©´ ê·¸ ëŒ€ìƒì€ íŠ¹ë³„í•´ì§„ë‹¤ëŠ” ê²ƒì´ë‹¤. ë‚˜ë„ ì¹œêµ¬ë“¤ê³¼ì˜ ê´€ê³„ê°€ ìƒê°ë‚¬ë‹¤. ì²˜ìŒì—ëŠ” ë‚¯ì„¤ì—ˆë˜ ì¹œêµ¬ë„ ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì†Œì¤‘í•œ ì¡´ì¬ê°€ ë˜ì—ˆë‹¤.

ì´ ì±…ì€ ì–´ë¥¸ë“¤ì´ ìƒì–´ë²„ë¦° ìˆœìˆ˜í•¨ì— ëŒ€í•´ ìƒê°í•˜ê²Œ í•œë‹¤. ìˆ«ìì™€ ê²‰ëª¨ìŠµì—ë§Œ ê´€ì‹¬ì„ ê°–ëŠ” ì–´ë¥¸ë“¤ì˜ ëª¨ìŠµì´ ìš°ë¦¬ ì£¼ë³€ì—ë„ ìˆëŠ” ê²ƒ ê°™ì•„ ì”ì“¸í–ˆë‹¤.

ì•ìœ¼ë¡œ ë‚˜ë„ ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ” ì¤‘ìš”í•œ ê²ƒë“¤, ì˜ˆë¥¼ ë“¤ì–´ ìš°ì •, ì‚¬ë‘, ì‹ ë¢°ë¥¼ ì†Œì¤‘íˆ ì—¬ê¸°ëŠ” ì‚¬ëŒì´ ë˜ê³  ì‹¶ë‹¤.
`,
          'ì¤‘': `
ì œëª©: ì–´ë¦° ì™•ì ê°ìƒë¬¸

'ì–´ë¦° ì™•ì'ëŠ” ì–´ë¦° ì™•ìê°€ ì—¬ëŸ¬ ë³„ì„ ì—¬í–‰í•˜ëŠ” ì´ì•¼ê¸°ë‹¤.

ì—¬ìš°ê°€ "ì¤‘ìš”í•œ ê²ƒì€ ëˆˆì— ë³´ì´ì§€ ì•Šì•„"ë¼ê³  í•œ ë§ì´ ê¸°ì–µì— ë‚¨ëŠ”ë‹¤.

ì´ ì±…ì„ ì½ê³  ì¹œêµ¬ë¥¼ ì†Œì¤‘íˆ í•´ì•¼ê² ë‹¤ê³  ìƒê°í–ˆë‹¤.
`,
          'í•˜': `
ì–´ë¦°ì™•ì
ì™•ìê°€ ì—¬í–‰í•¨
ì—¬ìš°ë‘ ì¹œêµ¬ë¨
ì¬ë°ŒìŒ
`
        }
      }
    }
  }
};

// ===== ê³ ë“±í•™êµ ìš°ìˆ˜ì‘ ì˜ˆì‹œ (ìƒ ìˆ˜ì¤€) =====
const highSchoolExamples = {
  'ê³ ë“±í•™êµ': {
    '2í•™ë…„': {
      genres: ['ë…¼ì„¤ë¬¸', 'ìˆ˜í•„', 'ë¹„í‰ë¬¸'],
      examples: {
        'ë…¼ì„¤ë¬¸': {
          'ìƒ': `
ì œëª©: ì¸ê³µì§€ëŠ¥ ì‹œëŒ€, ì¸ê°„ë‹¤ì›€ì˜ ì¬ì •ì˜

ìµœê·¼ ChatGPTë¡œ ëŒ€í‘œë˜ëŠ” ìƒì„±í˜• AIì˜ ë“±ì¥ì€ ì¸ë¥˜ ë¬¸ëª…ì˜ ìƒˆë¡œìš´ ì „í™˜ì ì„ ì˜ˆê³ í•œë‹¤. ê·¸ëŸ¬ë‚˜ AIê°€ ì¸ê°„ì˜ ë§ì€ ì˜ì—­ì„ ëŒ€ì²´í•˜ê²Œ ë  ì´ ì‹œì ì—ì„œ, ìš°ë¦¬ëŠ” ì˜¤íˆë ¤ "ì¸ê°„ë‹¤ì›€ì´ë€ ë¬´ì—‡ì¸ê°€"ë¼ëŠ” ê·¼ë³¸ì  ì§ˆë¬¸ì— ì§ë©´í•˜ê²Œ ëœë‹¤.

AIê°€ ì•„ë¬´ë¦¬ ë°œì „í•´ë„ ëŒ€ì²´í•  ìˆ˜ ì—†ëŠ” ì¸ê°„ ê³ ìœ ì˜ ì˜ì—­ì´ ìˆë‹¤. ì²«ì§¸, ê³µê°ê³¼ ì—°ëŒ€ì˜ ëŠ¥ë ¥ì´ë‹¤. AIëŠ” ê°ì •ì„ ì‹œë®¬ë ˆì´ì…˜í•  ìˆ˜ ìˆì§€ë§Œ, íƒ€ì¸ì˜ ê³ í†µì— ì§„ì •ìœ¼ë¡œ ê³µê°í•˜ê³  ì†ì„ ë‚´ë¯¸ëŠ” ê²ƒì€ ì¸ê°„ë§Œì´ í•  ìˆ˜ ìˆë‹¤. ë‘˜ì§¸, ì˜ë¯¸ ë¶€ì—¬ì˜ ëŠ¥ë ¥ì´ë‹¤. AIëŠ” ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì§€ë§Œ, ê·¸ ë°ì´í„°ì— ê°€ì¹˜ì™€ ì˜ë¯¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ê²ƒì€ ì¸ê°„ì˜ ëª«ì´ë‹¤. ì…‹ì§¸, ìœ¤ë¦¬ì  íŒë‹¨ì˜ ì£¼ì²´ì„±ì´ë‹¤. AIëŠ” ì£¼ì–´ì§„ ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ì‘ë™í•˜ì§€ë§Œ, ë¬´ì—‡ì´ ì˜³ê³  ê·¸ë¥¸ì§€ ìŠ¤ìŠ¤ë¡œ ê²°ì •í•˜ê³  ì±…ì„ì§€ëŠ” ê²ƒì€ ì¸ê°„ë§Œì´ í•  ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ AI ì‹œëŒ€ì˜ êµìœ¡ì€ ë‹¨ìˆœí•œ ì§€ì‹ ì „ë‹¬ì´ ì•„ë‹Œ, ì´ëŸ¬í•œ ì¸ê°„ ê³ ìœ ì˜ ì—­ëŸ‰ì„ ê¸°ë¥´ëŠ” ë°©í–¥ìœ¼ë¡œ ì „í™˜ë˜ì–´ì•¼ í•œë‹¤. ë¹„íŒì  ì‚¬ê³ , ì°½ì˜ì  ë¬¸ì œ í•´ê²°, í˜‘ë ¥ê³¼ ì†Œí†µ ëŠ¥ë ¥ì´ ê·¸ ì–´ëŠ ë•Œë³´ë‹¤ ì¤‘ìš”í•´ì§ˆ ê²ƒì´ë‹¤.

AIì™€ì˜ ê³µì¡´ì€ ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜ê°€ ë˜ì—ˆë‹¤. ì¤‘ìš”í•œ ê²ƒì€ AIë¥¼ ë‘ë ¤ì›Œí•˜ê±°ë‚˜ ë§¹ì‹ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, AIê°€ í•  ìˆ˜ ì—†ëŠ” ê²ƒì„ ì¸ì‹í•˜ê³  ê·¸ ì˜ì—­ì—ì„œ ì¸ê°„ë‹¤ì›€ì„ ë”ìš± ë°œì „ì‹œì¼œ ë‚˜ê°€ëŠ” ê²ƒì´ë‹¤.
`
        },
        'ìˆ˜í•„': {
          'ìƒ': `
ì œëª©: ì²­ì¶˜ì˜ ë¬´ê²Œ

ì–´ëŠ ë‚  ë¬¸ë“, ë‚´ê°€ ì§€ê³  ìˆëŠ” ê²ƒë“¤ì´ ë¬´ê²ê²Œ ëŠê»´ì¡Œë‹¤. ëŒ€í•™ ì…ì‹œë¼ëŠ” ê±°ëŒ€í•œ ì‚° ì•ì—ì„œ, ì¹œêµ¬ë“¤ê³¼ì˜ ë¯¸ë¬˜í•œ ê°ˆë“± ì†ì—ì„œ, ê·¸ë¦¬ê³  ì•„ì§ ì°¾ì§€ ëª»í•œ ë‚˜ ìì‹  ì•ì—ì„œ.

í• ë¨¸ë‹ˆ ëŒ ë’¤ëœ°ì—ëŠ” ì˜¤ë˜ëœ ëŠí‹°ë‚˜ë¬´ê°€ ìˆë‹¤. ì–´ë¦° ì‹œì ˆ ê·¸ ë‚˜ë¬´ ì•„ë˜ì„œ ë›°ì–´ë†€ë˜ ê¸°ì–µì´ ì„ ëª…í•˜ë‹¤. ìµœê·¼ í• ë¨¸ë‹ˆë¥¼ ì°¾ì•„ëµˆì—ˆì„ ë•Œ, ë¬¸ë“ ê·¸ ë‚˜ë¬´ë¥¼ ì˜¬ë ¤ë‹¤ë³´ì•˜ë‹¤. ìˆ˜ì‹­ ë…„ì˜ ì„¸ì›”ì„ ê²¬ëŒì˜¨ ë‚˜ë¬´ëŠ” ì—¬ì „íˆ ê·¸ ìë¦¬ì—ì„œ ë¬µë¬µíˆ í•˜ëŠ˜ì„ í–¥í•´ ë»—ì–´ ìˆì—ˆë‹¤.

í• ë¨¸ë‹ˆê»˜ì„œ ë§ì”€í•˜ì…¨ë‹¤. "ì´ ë‚˜ë¬´ë„ ì–´ë ¸ì„ ë•ŒëŠ” íƒœí’ì— íœ˜ì²­ê±°ë ¸ë‹¨ë‹¤. í•˜ì§€ë§Œ ë²„í…¨ëƒˆê¸°ì— ì´ë ‡ê²Œ í´ ìˆ˜ ìˆì—ˆì§€."

ê·¸ ë§ì”€ì´ ë‚´ ë§ˆìŒì— ê¹Šì´ ìƒˆê²¨ì¡Œë‹¤. ì§€ê¸ˆ ë‚´ê°€ ëŠë¼ëŠ” ë¬´ê²Œê°ì€ ì–´ì©Œë©´ ì„±ì¥ì„ ìœ„í•œ í•„ìˆ˜ì ì¸ ê³¼ì •ì¸ì§€ë„ ëª¨ë¥¸ë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ê·¸ ë¬´ê²Œì— ëˆŒë ¤ ì“°ëŸ¬ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë²„í‹°ë©° ë¿Œë¦¬ë¥¼ ë” ê¹Šì´ ë‚´ë¦¬ëŠ” ê²ƒì´ë‹¤.

ì²­ì¶˜ì´ ë¬´ê±°ìš´ ê²ƒì€, ì•„ì§ ìë¼ê³  ìˆë‹¤ëŠ” ì¦ê±°ì¼ ê²ƒì´ë‹¤. ì–¸ì  ê°€ ë‚˜ë„ ëŠí‹°ë‚˜ë¬´ì²˜ëŸ¼, ì´ ì‹œê°„ì„ ê²¬ë”˜ ë‚˜ì´í…Œë¥¼ í’ˆê³  ë” ë†’ì´ ì„¤ ìˆ˜ ìˆê¸°ë¥¼.
`
        }
      }
    },
    '3í•™ë…„': {
      genres: ['ë…¼ì„¤ë¬¸', 'ìˆ˜í•„', 'ë¹„í‰ë¬¸'],
      examples: {
        'ë…¼ì„¤ë¬¸': {
          'ìƒ': `
ì œëª©: ì§€ì†ê°€ëŠ¥í•œ ë°œì „ì„ ìœ„í•œ ì†Œë¹„ íŒ¨ëŸ¬ë‹¤ì„ì˜ ì „í™˜

í˜„ëŒ€ ìë³¸ì£¼ì˜ ì‚¬íšŒì—ì„œ ì†Œë¹„ëŠ” ê²½ì œ ì„±ì¥ì˜ ì›ë™ë ¥ì´ì ê°œì¸ì˜ ì •ì²´ì„±ì„ í‘œí˜„í•˜ëŠ” ìˆ˜ë‹¨ìœ¼ë¡œ ì—¬ê²¨ì ¸ ì™”ë‹¤. ê·¸ëŸ¬ë‚˜ ìì› ê³ ê°ˆê³¼ í™˜ê²½ íŒŒê´´ë¼ëŠ” ë¶€ì‘ìš© ì•ì—ì„œ, ìš°ë¦¬ëŠ” ì†Œë¹„ì— ëŒ€í•œ ê·¼ë³¸ì ì¸ íŒ¨ëŸ¬ë‹¤ì„ ì „í™˜ì„ ëª¨ìƒ‰í•´ì•¼ í•˜ëŠ” ì‹œì ì— ë„ë‹¬í–ˆë‹¤.

ë¨¼ì €, ì„ í˜• ê²½ì œì—ì„œ ìˆœí™˜ ê²½ì œë¡œì˜ ì „í™˜ì´ í•„ìš”í•˜ë‹¤. ìƒì‚°-ì†Œë¹„-íê¸°ì˜ ì¼ë°©í–¥ì  íë¦„ ëŒ€ì‹ , ì¬ì‚¬ìš©ê³¼ ì¬í™œìš©ì„ í†µí•´ ìì›ì´ ìˆœí™˜í•˜ëŠ” ê²½ì œ êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ì´ë¯¸ ìœ ëŸ½ì—°í•©ì„ ì¤‘ì‹¬ìœ¼ë¡œ 'ê·¸ë¦° ë”œ'ì´ ì¶”ì§„ë˜ê³  ìˆìœ¼ë©°, ê¸°ì—…ë“¤ë„ ESG ê²½ì˜ì„ í†µí•´ ì´ëŸ¬í•œ ë³€í™”ì— ë™ì°¸í•˜ê³  ìˆë‹¤.

ë‹¤ìŒìœ¼ë¡œ, ì†Œë¹„ìì˜ ì¸ì‹ ë³€í™”ê°€ í•„ìˆ˜ì ì´ë‹¤. 'ê°€ì„±ë¹„'ì—ì„œ 'ê°€ì‹¬ë¹„'ë¡œ, ë‹¤ì‹œ 'ê°€ì¹˜ë¹„'ë¡œì˜ ë³€í™”ê°€ ì¼ì–´ë‚˜ê³  ìˆë‹¤. ë‹¨ìˆœíˆ ì‹¼ ì œí’ˆì´ ì•„ë‹ˆë¼, í™˜ê²½ê³¼ ì‚¬íšŒì— ë¯¸ì¹˜ëŠ” ì˜í–¥ê¹Œì§€ ê³ ë ¤í•˜ì—¬ êµ¬ë§¤ë¥¼ ê²°ì •í•˜ëŠ” 'ìœ¤ë¦¬ì  ì†Œë¹„'ê°€ í™•ì‚°ë˜ì–´ì•¼ í•œë‹¤.

ë¬¼ë¡  ì´ëŸ¬í•œ ì „í™˜ì—ëŠ” ë¹„ìš©ì´ ìˆ˜ë°˜ëœë‹¤. ì¹œí™˜ê²½ ì œí’ˆì˜ ë†’ì€ ê°€ê²©, ë¶ˆí¸í•œ ì†Œë¹„ ê³¼ì • ë“±ì´ ì¥ë²½ìœ¼ë¡œ ì‘ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŠ” ë‹¨ê¸°ì  ë¹„ìš©ì¼ ë¿, ì¥ê¸°ì ìœ¼ë¡œëŠ” ì§€ì†ê°€ëŠ¥í•œ ë¯¸ë˜ë¥¼ ìœ„í•œ íˆ¬ìë¡œ ë´ì•¼ í•œë‹¤.

ì†Œë¹„ì˜ íŒ¨ëŸ¬ë‹¤ì„ ì „í™˜ì€ ê°œì¸ì˜ ì„ íƒì—ì„œ ì‹œì‘ë˜ì§€ë§Œ, ì •ë¶€ì˜ ì •ì±…ì  ì§€ì›ê³¼ ê¸°ì—…ì˜ ì ê·¹ì  ì°¸ì—¬ê°€ ë’·ë°›ì¹¨ë  ë•Œ ì‹¤í˜„ ê°€ëŠ¥í•˜ë‹¤. ìš°ë¦¬ ì„¸ëŒ€ê°€ ë§Œë“¤ì–´ê°ˆ ìƒˆë¡œìš´ ì†Œë¹„ ë¬¸í™”ê°€ ë‹¤ìŒ ì„¸ëŒ€ì—ê²Œ ë¬¼ë ¤ì¤„ ê°€ì¥ ê°’ì§„ ìœ ì‚°ì´ ë˜ê¸°ë¥¼ í¬ë§í•œë‹¤.
`
        },
        'ìˆ˜í•„': {
          'ìƒ': `
ì œëª©: ë‚˜ì˜ ì¢Œí‘œë¥¼ ì°¾ì•„ì„œ

ê³ 3ì˜ ê²¨ìš¸, ìˆ˜ëŠ¥ì´ ëë‚œ ë’¤ ë‚˜ëŠ” í…… ë¹ˆ êµì‹¤ì— í™€ë¡œ ì•‰ì•„ ìˆì—ˆë‹¤. 3ë…„ê°„ ì‰´ ìƒˆ ì—†ì´ ë‹¬ë ¤ì˜¨ ì‹œê°„ì´ ëë‚¬ë‹¤ëŠ” í•´ë°©ê°ê³¼ í•¨ê»˜, ì´ìƒí•˜ê²Œë„ ê³µí—ˆí•¨ì´ ë°€ë ¤ì™”ë‹¤. "ì´ì œ ë­˜ í•´ì•¼ í•˜ì§€?"

ì–´ë¦´ ì ë¶€í„° "ë„¤ ê¿ˆì´ ë­ë‹ˆ?"ë¼ëŠ” ì§ˆë¬¸ì„ ìˆ˜ì—†ì´ ë°›ì•„ì™”ë‹¤. ì˜ì‚¬, ë³€í˜¸ì‚¬, ì„ ìƒë‹˜... ì‹œê¸°ì— ë”°ë¼ ëŒ€ë‹µì€ ë°”ë€Œì—ˆì§€ë§Œ, ì •ì‘ ê·¸ê²ƒì´ ì§„ì •í•œ 'ë‚˜ì˜ ê¿ˆ'ì´ì—ˆëŠ”ì§€ëŠ” í™•ì‹ í•  ìˆ˜ ì—†ì—ˆë‹¤. ì–´ì©Œë©´ ì£¼ë³€ì˜ ê¸°ëŒ€ì™€ ì‚¬íšŒì˜ í†µë…ì„ ë‚´ ê²ƒìœ¼ë¡œ ì°©ê°í–ˆë˜ ê±´ ì•„ë‹ê¹Œ.

ë©°ì¹  ì „, ì˜¤ëœë§Œì— ì–´ë¦° ì‹œì ˆ ì¼ê¸°ì¥ì„ í¼ì³ë³´ì•˜ë‹¤. "ì˜¤ëŠ˜ ê°œë¯¸ì§‘ì„ ê´€ì°°í–ˆë‹¤. ê°œë¯¸ë“¤ì€ ì™œ ì¤„ì„ ì§€ì–´ ë‹¤ë‹ê¹Œ? ì‹ ê¸°í•˜ë‹¤." ê³¼í•™ìê°€ ë˜ê² ë‹¤ëŠ” ê±°ì°½í•œ ì„ ì–¸ ëŒ€ì‹ , ìˆœìˆ˜í•œ í˜¸ê¸°ì‹¬ê³¼ ê´€ì°°ì˜ ê¸°ë¡ì´ ê°€ë“í–ˆë‹¤.

ê·¸ë•Œ ê¹¨ë‹¬ì•˜ë‹¤. ê¿ˆì€ ì§ì—…ì´ ì•„ë‹ˆë¼ íƒœë„ë¼ëŠ” ê²ƒì„. ì„¸ìƒì„ ê¶ê¸ˆí•´í•˜ê³ , ì§ˆë¬¸í•˜ê³ , íƒêµ¬í•˜ëŠ” ìì„¸. ê·¸ê²ƒì´ ì–´ë¦° ì‹œì ˆì˜ ë‚´ê°€ ê°€ì¡Œë˜, ê·¸ë¦¬ê³  ì…ì‹œì— ì¹˜ì—¬ ì ì‹œ ìŠì—ˆë˜ ë³¸ë˜ì˜ ë‚˜ì˜€ë‹¤.

ì´ì œ ìƒˆë¡œìš´ ì—¬ì •ì´ ì‹œì‘ëœë‹¤. ì–´ë””ë¡œ ê°ˆì§€ëŠ” ì•„ì§ ëª¨ë¥¸ë‹¤. í•˜ì§€ë§Œ ìµœì†Œí•œ ì´ì œëŠ” ë‚¨ì˜ ì¢Œí‘œê°€ ì•„ë‹Œ, ë‚˜ë§Œì˜ ì¢Œí‘œë¥¼ ì°¾ì•„ ê±¸ì–´ê°ˆ ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤.
`
        }
      }
    }
  }
};

// ===== íŒŒì¼ ìƒì„± í•¨ìˆ˜ =====
function generateRubricFile(eduLevel, grade, genre, domain, content) {
  const dirPath = path.join(SSAK_DB_PATH, '01_í‰ê°€ë£¨ë¸Œë¦­', eduLevel, grade, genre);
  fs.mkdirSync(dirPath, { recursive: true });

  const fileName = `${domain}_í‰ê°€ê¸°ì¤€.md`;
  const filePath = path.join(dirPath, fileName);

  const frontmatter = `---
education_level: "${eduLevel}"
grade: "${grade}"
genre: "${genre}"
domain: "${domain}"
created: "${new Date().toISOString().split('T')[0]}"
---
`;

  fs.writeFileSync(filePath, frontmatter + content, 'utf8');
  return filePath;
}

function generateExampleFile(eduLevel, gradeGroup, genre, level, content, title = '') {
  const dirPath = path.join(SSAK_DB_PATH, '02_ìš°ìˆ˜ì‘ì˜ˆì‹œ', eduLevel, gradeGroup, genre);
  fs.mkdirSync(dirPath, { recursive: true });

  const levelKorean = { 'high': 'ìƒ', 'mid': 'ì¤‘', 'low': 'í•˜', 'ìƒ': 'ìƒ', 'ì¤‘': 'ì¤‘', 'í•˜': 'í•˜' };
  const levelEng = { 'ìƒ': 'high', 'ì¤‘': 'mid', 'í•˜': 'low', 'high': 'high', 'mid': 'mid', 'low': 'low' };
  const korLevel = levelKorean[level] || level;
  const engLevel = levelEng[level] || level;

  const fileName = `${genre}_${korLevel}_ì˜ˆì‹œ.md`;
  const filePath = path.join(dirPath, fileName);

  const frontmatter = `---
education_level: "${eduLevel}"
grade: "${gradeGroup}"
genre: "${genre}"
level: "${korLevel}"
title: "${title}"
created: "${new Date().toISOString().split('T')[0]}"
---
`;

  fs.writeFileSync(filePath, frontmatter + content, 'utf8');
  return filePath;
}

// ===== ë©”ì¸ ì‹¤í–‰ =====
async function main() {
  console.log('ğŸŒ± ì‹¹DB ë¶€ì¡± ë°ì´í„° ìƒì„± ì‹œì‘...\n');

  let createdFiles = [];

  // 1. ê³ ë“±í•™êµ ë£¨ë¸Œë¦­ ìƒì„±
  console.log('ğŸ“š ê³ ë“±í•™êµ í‰ê°€ ë£¨ë¸Œë¦­ ìƒì„± ì¤‘...');
  const rubricData = highSchoolRubrics['ê³ ë“±í•™êµ'];

  for (const grade of rubricData.grades) {
    for (const genre of rubricData.genres) {
      for (const domain of rubricData.domains) {
        let content = rubricData.rubricTemplates['ì¢…í•©'][genre] || rubricData.rubricTemplates['ì¢…í•©']['ë…¼ì„¤ë¬¸'];
        content = content.replace(/ê³ ë“±í•™êµ ë…¼ì„¤ë¬¸/g, `ê³ ë“±í•™êµ ${grade} ${genre}`);

        const filePath = generateRubricFile('ê³ ë“±í•™êµ', grade, genre, domain, content);
        createdFiles.push(filePath);
      }
    }
  }
  console.log(`   âœ… ${rubricData.grades.length * rubricData.genres.length * rubricData.domains.length}ê°œ ë£¨ë¸Œë¦­ ìƒì„± ì™„ë£Œ`);

  // 2. ì´ˆë“±í•™êµ ìš°ìˆ˜ì‘ ì˜ˆì‹œ ìƒì„±
  console.log('\nğŸ“ ì´ˆë“±í•™êµ ìš°ìˆ˜ì‘ ì˜ˆì‹œ ìƒì„± ì¤‘...');
  const elemData = elementaryExamples['ì´ˆë“±í•™êµ'];

  for (const [gradeGroup, data] of Object.entries(elemData)) {
    for (const genre of data.genres) {
      if (data.examples[genre]) {
        for (const [level, content] of Object.entries(data.examples[genre])) {
          const filePath = generateExampleFile('ì´ˆë“±í•™êµ', gradeGroup, genre, level, content);
          createdFiles.push(filePath);
        }
      }
    }
  }
  console.log('   âœ… ì´ˆë“± 3-4í•™ë…„, 5-6í•™ë…„ ìš°ìˆ˜ì‘ ì˜ˆì‹œ ìƒì„± ì™„ë£Œ');

  // 3. ê³ ë“±í•™êµ ìš°ìˆ˜ì‘ ì˜ˆì‹œ (ìƒ ìˆ˜ì¤€) ìƒì„±
  console.log('\nğŸ“ ê³ ë“±í•™êµ ìš°ìˆ˜ì‘ ì˜ˆì‹œ (ìƒ ìˆ˜ì¤€) ìƒì„± ì¤‘...');
  const highData = highSchoolExamples['ê³ ë“±í•™êµ'];

  for (const [grade, data] of Object.entries(highData)) {
    for (const genre of data.genres) {
      if (data.examples[genre]) {
        for (const [level, content] of Object.entries(data.examples[genre])) {
          const filePath = generateExampleFile('ê³ ë“±í•™êµ', grade, genre, level, content);
          createdFiles.push(filePath);
        }
      }
    }
  }
  console.log('   âœ… ê³ ë“±í•™êµ 2-3í•™ë…„ ìƒ ìˆ˜ì¤€ ì˜ˆì‹œ ìƒì„± ì™„ë£Œ');

  console.log('\n' + '='.repeat(50));
  console.log(`ğŸ“Š ì´ ${createdFiles.length}ê°œ íŒŒì¼ ìƒì„±ë¨`);
  console.log('\nğŸ‰ ë°ì´í„° ìƒì„± ì™„ë£Œ!');
  console.log('\nğŸ’¡ ë‹¤ìŒ ë‹¨ê³„: Firestoreì— ì—…ë¡œë“œ');
  console.log('   node scripts/upload-ssakdb-client.cjs');
}

main().catch(err => {
  console.error('âŒ ì˜¤ë¥˜:', err);
  process.exit(1);
});
